<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Loïc Hoguin based on a design from (Soft10) Pol Cámara">

    <title>Nine Nines: gun_down(3)</title>

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic' rel='stylesheet' type='text/css'>
    <link href="/css/99s.css?r=3" rel="stylesheet">

    <link rel="shortcut icon" href="/img/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/ico/apple-touch-icon-114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/ico/apple-touch-icon-72.png">
    <link rel="apple-touch-icon-precomposed" href="/img/ico/apple-touch-icon-57.png">

    
</head>


<body class="">
  <header id="page-head">
    <div id="topbar" class="container">
        <div class="row">
          <div class="span2">
            <h1 id="logo"><a href="/" title="99s">99s</a></h1>
          </div>
          <div class="span10">
            
            <div id="side-header">
              <nav>
                <ul>
                  <li><a title="Hear my thoughts" href="/articles">Articles</a></li>
  				  <li><a title="Watch my talks" href="/talks">Talks</a></li>
  				  <li class="active"><a title="Read the docs" href="/docs">Documentation</a></li>
  				  <li><a title="Request my services" href="/services">Consulting & Training</a></li>
                </ul>
              </nav> 
              <ul id="social">
                <li>
                  <a href="https://github.com/ninenines" title="Check my Github repositories"><img src="/img/ico_github.png" data-hover="/img/ico_github_alt.png" alt="Github"></a>
                </li>
                    <li>
						<a title="Contact me" href="mailto:contact@ninenines.eu"><img src="/img/ico_mail.png" data-hover="/img/ico_mail_alt.png"></a>
					</li>
              </ul>
            </div>
          </div>
        </div>
    </div>


</header>

<div id="contents" class="two_col">
<div class="container">
<div class="row">
<div id="docs" class="span9 maincol">

<h1 class="lined-header"><span>gun_down(3)</span></h1>

<h2 id="_name">Name</h2>
<p>gun_down - The connection is down</p>
<h2 id="_description">Description</h2>
<div class="listingblock"><div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>{<font color="#FF6600">gun_down</font>, <font color="#009900">ConnPid</font>, <font color="#009900">Protocol</font>, <font color="#009900">Reason</font>, <font color="#009900">KilledStreams</font>, <font color="#009900">UnprocessedStreams</font>}

<font color="#009900">ConnPid</font>            <font color="#990000">::</font> <b><font color="#000080">pid</font></b>()
<font color="#009900">Protocol</font>           <font color="#990000">::</font> <font color="#FF6600">http</font> | <font color="#FF6600">http2</font> | <font color="#FF6600">ws</font>
<font color="#009900">Reason</font>             <font color="#990000">::</font> <b><font color="#000000">any</font></b>()
<font color="#009900">KilledStreams</font>      <font color="#990000">::</font> [<b><font color="#000080">reference</font></b>()]
<font color="#009900">UnprocessedStreams</font> <font color="#990000">::</font> [<b><font color="#000080">reference</font></b>()]</tt></pre>
</div></div>
<p>The connection is down.</p>
<p>This message informs the owner process that the connection was lost. Depending on the <code>retry</code> and <code>retry_timeout</code> options Gun may automatically attempt to reconnect.</p>
<p>When the connection goes back up, Gun will not attempt to retry requests. It will also not upgrade to Websocket automatically if that was the protocol in use when the connection was lost.</p>
<h2 id="_elements">Elements</h2>
<dl><dt>ConnPid</dt>
<dd><p>The pid of the Gun connection process.</p>
</dd>
<dt>Protocol</dt>
<dd><p>The protocol that was selected for this connection or upgraded to during the course of the connection.</p>
</dd>
<dt>Reason</dt>
<dd><p>The reason for the loss of the connection.</p>
<p>It is present for debugging purposes only. You should not rely on this value to perform operations programmatically.</p>
</dd>
<dt>KilledStreams</dt>
<dd><p>List of streams that have been brutally terminated.</p>
<p>They are active streams that did not complete before the closing of the connection. Whether they can be retried safely depends on the protocol used and the idempotence property of the requests.</p>
</dd>
<dt>UnprocessedStreams</dt>
<dd><p>List of streams that have not been processed by the server.</p>
<p>They are streams that the server did not start processing yet. They may be retried safely depending on whether related streams were killed.</p>
</dd>
</dl>
<h2 id="_changelog">Changelog</h2>
<ul><li><strong>1.0</strong>: Message introduced.
</li>
</ul>
<h2 id="_examples">Examples</h2>
<div class="listingblock"><div class="title">Receive a gun_down message in a gen_server</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><b><font color="#000000">handle_info</font></b>({<font color="#FF6600">gun_down</font>, <font color="#009900">ConnPid</font>, <font color="#009900">_Protocol</font>,
             <font color="#009900">_Reason</font>, <font color="#009900">_Killed</font>, <font color="#009900">_Unprocessed</font>},
            <font color="#009900">State</font><font color="#990000">=</font><font color="#008080">#state</font>{<font color="#0000FF">conn_pid</font><font color="#990000">=</font><font color="#009900">ConnPid</font>}) <font color="#990000">-&gt;</font>
    <i><font color="#9A1900">%% Do something.</font></i>
    {<font color="#FF6600">noreply</font>, <font color="#009900">State</font>}<font color="#990000">.</font></tt></pre>
</div></div>
<h2 id="_see_also">See also</h2>
<p><a href="../gun">gun(3)</a>, <a href="../gun.open">gun:open(3)</a>, <a href="../gun.open_unix">gun:open_unix(3)</a>, <a href="../gun_up">gun_up(3)</a>, <a href="../gun_error">gun_error(3)</a></p>






</div>

<div class="span3 sidecol">


<h3>
	Gun
	1.1
	Function Reference
	
</h3>

<ul>
	
		<li><a href="/docs/en/gun/1.1/guide">User Guide</a></li>
	
	
		<li><a href="/docs/en/gun/1.1/manual">Function Reference</a></li>
	
	
</ul>

<h4 id="docs-nav">Navigation</h4>

<h4>Version select</h4>
<ul>
	
	
	
		<li><a href="/docs/en/gun/1.3/manual">1.3</a></li>
	
		<li><a href="/docs/en/gun/1.2/manual">1.2</a></li>
	
		<li><a href="/docs/en/gun/1.1/manual">1.1</a></li>
	
		<li><a href="/docs/en/gun/1.0/manual">1.0</a></li>
	
</ul>

</div>
</div>
</div>
</div>

      <footer>
        <div class="container">
          <div class="row">
            <div class="span6">
              <p id="scroll-top"><a href="#">↑ Scroll to top</a></p>
              <nav>
                <ul>
                  <li><a href="mailto:contact@ninenines.eu" title="Contact us">Contact us</a></li><li><a href="https://github.com/ninenines/ninenines.github.io" title="Github repository">Contribute to this site</a></li>
                </ul>
              </nav>
            </div>
            <div class="span6 credits">
               <p><img src="/img/footer_logo.png"></p>
               <p>Copyright &copy; Loïc Hoguin 2012-2018</p>
            </div>
          </div>
        </div>
      </footer>

    
    <script src="/js/custom.js"></script>
  </body>
</html>


